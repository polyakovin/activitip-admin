{"version":3,"sources":["Header.jsx","Table.jsx","App.js","Activity.js","Tag.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Header","user","classes","className","AppBar","position","Toolbar","Typography","variant","displayName","email","Table","auth","provider","props","data","setData","addItem","updateData","selectRow","hasCode","style","maxWidth","paddingTop","columns","field","onRowClick","_","item","id","tableData","icons","Add","Edit","Delete","editable","onRowAdd","newData","Promise","resolve","reject","length","onRowUpdate","oldData","dataUpdate","index","Activity","setScreen","selectedActivity","selectActivity","activities","updateActivity","setActivities","allTags","tags","code","synonyms","youtubeUrl","description","useState","youtubeId","setYoutubeId","serviceTitle","setServiceTitle","serviceUrl","setServiceUrl","teaserTitle","setTeaserTitle","teaserUrl","setTeaserUrl","onClick","disabled","type","defaultValue","onChange","debounce","target","value","split","pop","width","height","src","frameBorder","allow","allowFullScreen","cols","rows","services","map","url","href","rel","window","confirm","filter","i","placeholder","push","teasers","sortBy","prop","tag","checked","includes","newTags","t","Tag","selectedTag","selectTag","activity","sort","a","b","activityId","firebase","apps","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","GoogleAuthProvider","db","getDatabase","dbRef","ref","addActivity","newID","set","catch","error","alert","updatedActivity","addTag","updateTag","updatedTag","App","setTags","screen","authorizedUser","setAuthorizedUser","setSelectedActivity","setSelectedTag","getAppData","all","get","child","then","activitiesSnapshot","tagsSnapshot","val","useEffect","onAuthStateChanged","signInWithPopup","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3321abc5.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\n function Header({ user }) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            {user.displayName} ({user.email})\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport MaterialTable from 'material-table';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nfunction Table(props) {\n  const {\n    title,\n    data,\n    setData,\n    addItem,\n    updateData,\n    selectRow,\n    hasCode = true,\n  } = props;\n\n  return (\n    <div style={{ maxWidth: \"100%\", paddingTop: \"12px\"}}>\n      <MaterialTable\n        title={title}\n        columns={[\n          {\n            title: 'Название',\n            field: 'title'\n          },\n          ...(hasCode ? [{\n            title: 'Код',\n            field: 'code'\n          }] : []),\n        ]}\n        data={data}\n        onRowClick={(_, item) => {\n          if (!selectRow) {\n            return;\n          }\n          item.id = item.tableData.id;\n          delete item.tableData;\n          selectRow(item);\n        }}\n        icons={{\n          Add: props => <AddIcon />,\n          Edit: props => <EditIcon />,\n          Delete: props => <DeleteIcon />,\n        }}\n        editable={{\n          onRowAdd: newData => new Promise((resolve, reject) => {\n            addItem(newData, data.length);\n            setData([...data, newData]);\n            resolve();\n          }),\n          onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {\n            const dataUpdate = [...data];\n            const index = oldData.tableData.id;\n            dataUpdate[index] = newData;\n            setData([...dataUpdate]);\n            updateData(newData, index);\n            resolve();\n          }),\n          // onRowDelete: oldData => new Promise((resolve, reject) => {\n          //   const dataDelete = [...data];\n          //   const index = oldData.tableData.id;\n          //   dataDelete.splice(index, 1);\n          //   setData([...dataDelete]);\n          //   resolve();\n          // }),\n        }}\n      />\n    </div>\n  )\n}\n\nexport default Table;\n","import React, { useEffect, useState } from 'react';\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport Table from \"./Table\"\nimport firebase from \"firebase/compat/app\";\nimport { getAuth, GoogleAuthProvider, onAuthStateChanged, signInWithPopup } from \"firebase/auth\";\nimport { getDatabase, ref, child, get, set } from \"firebase/database\";\nimport \"firebase/compat/auth\";\nimport Activity from './Activity';\nimport Tag from './Tag';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCExrlbwm2DMX_lrhS516-93vUf4GSPgAA',\n  authDomain: \"tryeverything-421ed.firebaseapp.com\",\n  databaseURL: \"https://tryeverything-421ed-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"tryeverything-421ed\",\n  storageBucket: \"tryeverything-421ed.appspot.com\",\n  messagingSenderId: \"768977457633\",\n  appId: \"1:768977457633:web:df590da29170678cdf42a0\",\n  measurementId: \"G-56RPZMD413\"\n};\n\nlet auth, provider;\n\nif (firebase.apps.length === 0) {\n  const app = firebase.initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  provider = new GoogleAuthProvider();\n}\n\n\nconst db = getDatabase();\nconst dbRef = ref(db);\n\nconst addActivity = (activity, newID) => {\n  set(ref(db, 'activities/' + newID), activity).catch(error => {\n    alert(error);\n  });\n}\n\nconst updateActivity = (updatedActivity, id) => {\n  set(ref(db, 'activities/' + id), updatedActivity).catch(error => {\n    alert(error);\n  });\n}\n\nconst addTag = (tag, newID) => {\n  set(ref(db, 'tags/' + newID), tag).catch(error => {\n    alert(error);\n  });\n}\n\nconst updateTag = (updatedTag, id) => {\n  set(ref(db, 'tags/' + id), updatedTag).catch(error => {\n    alert(error);\n  });\n}\n\nconst App = () => {\n  const [activities, setActivities] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [screen, setScreen] = useState(1);\n  const [authorizedUser, setAuthorizedUser] = useState({});\n  const [selectedActivity, setSelectedActivity] = useState(null);\n  const [selectedTag, setSelectedTag] = useState(null);\n\n  const getAppData = () => {\n    Promise.all([\n      get(child(dbRef, '/activities/')),\n      get(child(dbRef, '/tags/')),\n    ]).then(([activitiesSnapshot, tagsSnapshot]) => {\n      setActivities(activitiesSnapshot && activitiesSnapshot.val());\n      setTags(tagsSnapshot && tagsSnapshot.val());\n    });\n  }\n\n  useEffect(() => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        setAuthorizedUser(user);\n        getAppData();\n      } else {\n        signInWithPopup(auth, provider)\n          .then(({ user }) => {\n            setAuthorizedUser(user);\n            getAppData();\n          }).catch((error) => {\n            console.log(error);\n          });\n      }\n    });\n  }, []);\n\n  // if (activities.length === 0 || tags.length === 0) {\n  //   return <div></div>;\n  // }\n\n  const selectActivity = (activity) => {\n    setScreen(2);\n    setSelectedActivity(activity);\n  };\n\n  const selectTag = (tag) => {\n    setScreen(3);\n    setSelectedTag(tag);\n  };\n\n  return (\n    <div>\n      <Header user={authorizedUser} />\n      {screen === 1 ? (\n        <div>\n          <Table\n            title=\"Категории\"\n            data={tags}\n            setData={setTags}\n            addItem={addTag}\n            updateData={updateTag}\n            selectRow={selectTag}\n          />\n          <Table\n            title=\"Активности\"\n            data={activities}\n            setData={setActivities}\n            addItem={addActivity}\n            updateData={updateActivity}\n            selectRow={selectActivity}\n            hasCode={false}\n          />\n        </div>\n      ) : null}\n      {screen === 2 && <Activity\n        setScreen={setScreen}\n        selectedActivity={selectedActivity}\n        selectActivity={selectActivity}\n        activities={activities}\n        updateActivity={updateActivity}\n        setActivities={setActivities}\n        tags={tags}\n      />}\n      {screen === 3 && <Tag\n        setScreen={setScreen}\n        selectedTag={selectedTag}\n        selectTag={selectTag}\n        activities={activities}\n        updateActivity={updateActivity}\n        setActivities={setActivities}\n        tags={tags}\n      />}\n    </div>\n  )\n};\n\nexport default App;\n","import React, { useState } from 'react';\nimport debounce from 'lodash/debounce';\nimport { prop, sortBy } from 'ramda';\n\nconst Activity = ({\n  setScreen,\n  selectedActivity,\n  selectActivity,\n  activities,\n  updateActivity,\n  setActivities,\n  tags: allTags,\n}) => {\n  const {\n    id,\n    code,\n    title,\n    synonyms,\n    youtubeUrl,\n    description,\n    tags,\n  } = selectedActivity;\n  const [youtubeId, setYoutubeId] = useState(youtubeUrl);\n  const [serviceTitle, setServiceTitle] = useState('');\n  const [serviceUrl, setServiceUrl] = useState('');\n  const [teaserTitle, setTeaserTitle] = useState('');\n  const [teaserUrl, setTeaserUrl] = useState('');\n  return (\n    <div className=\"screen\">\n      <button onClick={() => setScreen(1)}>&larr; Назад</button>\n      <h1>{title} ({code}, id={id})</h1>\n      <div>\n        <button onClick={() => selectActivity({\n          ...activities[id - 1],\n          id: id - 1,\n        })} disabled={id === 0}>&larr;</button>\n        <button onClick={() => selectActivity({\n          ...activities[id + 1],\n          id: id + 1,\n        })} disabled={id === activities.length - 1}>&rarr;</button>\n      </div>\n      <div>\n        <label>\n          Синонимы:\n          <input type=\"text\" defaultValue={synonyms} onChange={debounce(({ target }) => {\n            selectedActivity.synonyms = target.value;\n            updateActivity(selectedActivity, id);\n            setActivities([...activities]);\n          }, 1000)} />\n        </label>\n      </div>\n      <div>\n        <label>\n          Презентация. Код видео на YouTube:\n          <input type=\"text\" value={youtubeId} onChange={({ target }) => {\n            const youtubeId = target.value.split('=').pop();\n            selectedActivity.youtubeUrl = youtubeId;\n            setYoutubeId(youtubeId);\n            updateActivity(selectedActivity, id);\n            setActivities([...activities]);\n          }} />\n        </label>\n        {youtubeUrl && (\n          <div>\n            <iframe width=\"400\" height=\"200\" src={'https://www.youtube.com/embed/' + youtubeUrl} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n          </div>\n        )}\n      </div>\n      <div>\n        <label>\n          Описание:<br />\n          <textarea cols=\"100\" rows=\"10\" defaultValue={description} onChange={debounce(({ target }) => {\n            selectedActivity.description = target.value;\n            updateActivity(selectedActivity, id);\n            setActivities([...activities]);\n          }, 1000)} />\n        </label>\n      </div>\n      <div>\n        <ul>\n          {selectedActivity.services?.map(({ title, url }, index) => <li>\n            {url\n              ? <a href={url} target=\"_blank\" rel=\"noreferrer\">{title || url}</a>\n              : title || url\n            }\n            <span className=\"remove-button\" onClick={() => {\n              if (!window.confirm(`Точно удалить сервис ${title || url}`)) {\n                return;\n              }\n              selectedActivity.services = selectedActivity.services.filter((_, i) => i !== index);\n              updateActivity(selectedActivity, id);\n              setActivities([...activities]);\n            }}>🗑</span>\n          </li>)}\n        </ul>\n        <input type=\"text\" value={serviceTitle} onChange={({ target: { value } }) => setServiceTitle(value)} placeholder=\"Название сервиса\" />\n        <input type=\"text\" value={serviceUrl} onChange={({ target: { value } }) => setServiceUrl(value)} placeholder=\"Ссылка на сервис\" />\n        <button onClick={() => {\n          if (serviceTitle === '' && serviceUrl === '') {\n            return;\n          }\n          const services = selectedActivity.services || [];\n          services.push({\n            title: serviceTitle,\n            url: serviceUrl,\n          });\n          selectedActivity.services = services;\n          updateActivity(selectedActivity, id);\n          setActivities([...activities]);\n          setServiceTitle('');\n          setServiceUrl('');\n        }}>Добавить сервис</button>\n      </div>\n      <div>\n        <ul>\n          {selectedActivity.teasers?.map(({ title, url }, index) => <li>\n            {url\n              ? <a href={url} target=\"_blank\" rel=\"noreferrer\">{title || url}</a>\n              : title || url\n            }\n            <span className=\"remove-button\" onClick={() => {\n              if (!window.confirm(`Точно удалить тизер ${title || url}`)) {\n                return;\n              }\n              selectedActivity.teasers = selectedActivity.teasers.filter((_, i) => i !== index);\n              updateActivity(selectedActivity, id);\n              setActivities([...activities]);\n            }}>🗑</span>\n          </li>)}\n        </ul>\n        <input type=\"text\" value={teaserTitle} onChange={({ target: { value } }) => setTeaserTitle(value)} placeholder=\"Название тизера\" />\n        <input type=\"text\" value={teaserUrl} onChange={({ target: { value } }) => setTeaserUrl(value)} placeholder=\"Ссылка на тизер\" />\n        <button onClick={() => {\n          if (teaserTitle === '' && teaserUrl === '') {\n            return;\n          }\n          const teasers = selectedActivity.teasers || [];\n          teasers.push({\n            title: teaserTitle,\n            url: teaserUrl,\n          });\n          selectedActivity.teasers = teasers;\n          updateActivity(selectedActivity, id);\n          setActivities([...activities]);\n          setTeaserTitle('');\n          setTeaserUrl('');\n        }}>Добавить тизер</button>\n      </div>\n\n      {sortBy(prop('title'), allTags).map((tag, index) => (\n        <label className=\"tag\" key={`${index}${tag.code}`}>\n          <input type=\"checkbox\" checked={(tags || []).includes(tag.code)} onChange={() => {\n            let newTags = tags || [];\n            if (newTags.includes(tag.code)) {\n              newTags = newTags.filter(t => t !== tag.code);\n            } else {\n              newTags.push(tag.code);\n            }\n            selectedActivity.tags = newTags;\n            updateActivity(selectedActivity, id);\n            setActivities([...activities]);\n          }} />\n          {tag.title}\n        </label>\n      ))}\n    </div>\n  );\n};\n\nexport default Activity;\n","import React from 'react';\n\nconst Tag = ({\n  setScreen,\n  selectedTag,\n  selectTag,\n  activities,\n  updateActivity,\n  setActivities,\n  tags,\n}) => {\n  const {\n    id,\n    code,\n    title,\n  } = selectedTag;\n  return (\n    <div className=\"screen\">\n      <button onClick={() => setScreen(1)}>&larr; Назад</button>\n      <h1>{title} ({code}, id={id})</h1>\n      <div>\n        <button onClick={() => selectTag({\n          ...tags[id - 1],\n          id: id - 1,\n        })} disabled={id === 0}>&larr;</button>\n        <button onClick={() => selectTag({\n          ...tags[id + 1],\n          id: id + 1,\n        })} disabled={id === tags.length - 1}>&rarr;</button>\n      </div>\n      {activities\n        .map((activity, index) => ({ ...activity, index }))\n        .sort((a, b) => a.title > b.title ? 1 : -1)\n        .map((activity) => (\n        <label className=\"tag\" key={`${activity.index}${activity.code}`}>\n          <input type=\"checkbox\" checked={(activity.tags || []).includes(code)} onChange={() => {\n            const activityId = activity.tableData?.id || activity.index;\n            let newTags = activity.tags || [];\n            if (newTags.includes(code)) {\n              newTags = newTags.filter(t => t !== code);\n            } else {\n              newTags.push(code);\n            }\n            updateActivity({\n              ...activity,\n              tags: newTags,\n            }, activityId)\n            activities[activityId].tags = newTags;\n            setActivities([...activities]);\n          }} />\n          {activity.title}\n        </label>\n      ))}\n    </div>\n  );\n};\n\nexport default Tag;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}